{"ast":null,"code":"var _jsxFileName = \"/Users/charlescorio/Desktop/sei/projects/p4/frontend/src/components/login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axiosInstance from '../axios';\nimport { useNavigate } from 'react-router-dom'; //MaterialUI\n\nimport { Container, Avatar, Button, CssBaseline, TextField, FormControlLabel, Checkbox, Link, Grid, Typography } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const navigate = useNavigate();\n  const initialFormData = Object.freeze({\n    username: '',\n    password: ''\n  });\n  const [formData, updateFormData] = useState(initialFormData);\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(formData);\n    axiosInstance.post(`token/`, {\n      email: formData.username,\n      password: formData.password\n    }).then(res => {\n      localStorage.setItem('access_token', res.data.access);\n      localStorage.setItem('refresh_token', res.data.refresh);\n      localStorage.setItem('user', JSON.stringify(formData.email));\n      axiosInstance.defaults.headers['Authorization'] = 'JWT ' + localStorage.getItem('access_token');\n      navigate('/'); //console.log(res);\n      //console.log(res.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          id: \"username\",\n          label: \"Username\",\n          name: \"username\",\n          autoComplete: \"username\",\n          autoFocus: true,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          name: \"password\",\n          label: \"Password\",\n          type: \"password\",\n          id: \"password\",\n          autoComplete: \"current-password\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Checkbox, {\n            value: \"remember\",\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 34\n          }, this),\n          label: \"Remember me\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleSubmit,\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: true,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"#\",\n              variant: \"body2\",\n              children: \"Forgot password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"#\",\n              variant: \"body2\",\n              children: \"Don't have an account? Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"Ch2GmnBDUScqJgu5Bh56aq6P6Hw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axiosInstance","useNavigate","Container","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Typography","Login","navigate","initialFormData","Object","freeze","username","password","formData","updateFormData","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","console","log","post","email","then","res","localStorage","setItem","data","access","refresh","JSON","stringify","defaults","headers","getItem"],"sources":["/Users/charlescorio/Desktop/sei/projects/p4/frontend/src/components/login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axiosInstance from '../axios';\nimport { useNavigate } from 'react-router-dom';\n//MaterialUI\nimport { Container, Avatar, Button, CssBaseline, TextField, FormControlLabel, Checkbox, Link, Grid, Typography } from '@mui/material';\n\n\n\n\nexport default function Login() {\n    const navigate = useNavigate();\n    const initialFormData = Object.freeze({\n        username: '',\n        password: '',\n    });\n\n    const [formData, updateFormData] = useState(initialFormData);\n\n    const handleChange = (e) => {\n        updateFormData({\n            ...formData,\n            [e.target.name]: e.target.value.trim(),\n        });\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(formData);\n\n        axiosInstance\n            .post(`token/`, {\n                email: formData.username,\n                password: formData.password,\n            })\n            .then((res) => {\n                localStorage.setItem('access_token', res.data.access);\n                localStorage.setItem('refresh_token', res.data.refresh);\n                localStorage.setItem('user', JSON.stringify(formData.email))\n                axiosInstance.defaults.headers['Authorization'] =\n                    'JWT ' + localStorage.getItem('access_token');\n                navigate('/');\n                //console.log(res);\n                //console.log(res.data);\n            });\n    };\n\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline />\n            <div>\n                <Avatar></Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign in\n                </Typography>\n                <form noValidate>\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"username\"\n                        label=\"Username\"\n                        name=\"username\"\n                        autoComplete=\"username\"\n                        autoFocus\n                        onChange={handleChange}\n                    />\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        name=\"password\"\n                        label=\"Password\"\n                        type=\"password\"\n                        id=\"password\"\n                        autoComplete=\"current-password\"\n                        onChange={handleChange}\n                    />\n                    <FormControlLabel\n                        control={<Checkbox value=\"remember\" color=\"primary\" />}\n                        label=\"Remember me\"\n                    />\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleSubmit}\n                    >\n                        Sign In\n                    </Button>\n                    <Grid container>\n                        <Grid item xs>\n                            <Link href=\"#\" variant=\"body2\">\n                                Forgot password?\n                            </Link>\n                        </Grid>\n                        <Grid item>\n                            <Link href=\"#\" variant=\"body2\">\n                                {\"Don't have an account? Sign Up\"}\n                            </Link>\n                        </Grid>\n                    </Grid>\n                </form>\n            </div>\n        </Container>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}